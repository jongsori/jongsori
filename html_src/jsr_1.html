<!--=include _include/_gnb.html -->

<script>
  var depth1 = null;
  var depth2 = null;
</script>

<script>
  // 달러
  $.get('https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.xchange%20where%20pair%3D%22USDKRW%22&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys', function(data){
    var dollar = Math.round(data.query.results.rate.Ask);
    $('.exchange-rate-list-item.dollar').append(dollar + '₩');
  });

  // 엔
  $.get('https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.xchange%20where%20pair%3D%22JPYKRW%22&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys', function(data){
    var yen = Math.round(data.query.results.rate.Ask * 100);
    $('.exchange-rate-list-item.yen').append(yen + '₩');
  });

  // 위안
  $.get('https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.xchange%20where%20pair%3D%22CNYKRW%22&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys', function(data){
    var yuan = Math.round(data.query.results.rate.Ask);
    $('.exchange-rate-list-item.yuan').append(yuan + '₩');
  });

  $(function(){
    function init(){
      $('.exchange-rate-list-item').eq(0).css({top:0});
      $('.exchange-rate-list-item').eq(1).css({top:'100%'});
      $('.exchange-rate-list-item').eq(2).css({top:'-100%'});
    }
    var currentIndex = 0;
    var nextIndex = 0;
    var timeID;

    function moveTop(){
      if(nextIndex >= $('.exchange-rate-list-item').length){
        nextIndex = 0;
      }

      // eq()에 음수 값을 넣어 주면 뒷 순서부터 차례대로 매칭시킴
      $('.exchange-rate-list-item').eq(currentIndex).removeClass('center ani').addClass('top ani');
      $('.exchange-rate-list-item').eq(nextIndex).removeClass('bottom').addClass('center ani');
      $('.exchange-rate-list-item').eq(currentIndex-1).removeClass('top ani').addClass('bottom');

      currentIndex = nextIndex;
      nextIndex++;
    }

    function autoRolling(){
      timeID = setInterval(function(){
        nextIndex = currentIndex + 1;
        moveTop();
      }, 2500);
    }

    init();
    autoRolling();
  });

</script>

<section>
  <div class="video-wrap">
    <iframe class="video" width="560" height="315" src="https://www.youtube.com/embed/oW2_86jtHBo?autoplay=1&controls=0&showinfo=0&rel=0&loop=1&playlist=oW2_86jtHBo&mute=1" frameborder="0" allowfullscreen></iframe>
    <div class="video-dimmed"></div>
  </div>

  <div class="widget" data-role="page">
    <div id="weatherinfo">
      <!-- 날씨정보 -->
    </div>
    <ul class="exchange-rate-list">
      <li class="exchange-rate-list-item">USD 1$ ▶ KRW </li>
      <li class="exchange-rate-list-item">CNY 1Y ▶ KRW </li>
      <li class="exchange-rate-list-item">JPY 100Ұ ▶ KRW </li>
    </ul>
  </div>

</section>

<!--=include _include/_footer.html -->